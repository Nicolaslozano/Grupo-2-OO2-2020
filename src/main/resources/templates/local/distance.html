<!DOCTYPE html>
<html lang="en">

<th:block th:include="fragments/head :: head"></th:block>

<body>

    <div class="d-flex" id="wrapper">

        <th:block th:include="fragments/sidebar :: sidebar"></th:block>

        <!-- Page Content -->
        <div id="page-content-wrapper">

            <th:block th:include="fragments/navbar :: navbar"></th:block>

            <div class="container">
            	<div class="form">
                	<form class="well form-horizontal" action="#" th:action="@{/local/calculate}"
                    th:object="${local_models}" method="post" id="contact_form">
                    <fieldset>

                        <div class="form-group">
                            <label class="col-md-4 control-label">Local 1</label>
                            <div class="col-md-4 selectContainer">
                                <div class="input-group">
                                    <select name="local" class="form-control selectpicker" th:field="*{idLocal_1}">
                                        <option value="0"> -- </option>
                                        <option th:each="local : ${locales}" th:value="${local.idLocal}"
                                            th:text="${local.direccion}">
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-4 control-label">Local 2</label>
                            <div class="col-md-4 selectContainer">
                                <div class="input-group">
                                    <select name="local" class="form-control selectpicker" th:field="*{idLocal_2}">
                                        <option value="0"> -- </option>
                                        <option th:each="local : ${locales}" th:value="${local.idLocal}"
                                            th:text="${local.direccion}">
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Button -->
                        <div class="form-group">
                            <label class="col-md-4 control-label"></label>
                            <div class="col-md-4"><br>
                                &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<button
                                    type="submit"
                                    class="btn btn-warning">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspCALCULAR&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</button>
                            </div>
                        </div>

                    </fieldset>
                </form>
            </div><!-- Div Classform -->
		
            <div th:if="${distance != null}" class="col-md-4 mb-5">
                <div class="card h-100">
                	<div class="form">
                    	<div class="card-body">
                        <h2 class="card-title">Distancia</h2>
                        <div style="float: left; margin-right: 20px">
                            <p style="display:inline-block">La distancia entre</p>
                            <p style="display:inline-block"><b th:text="${localSelected1.direccion}"></b></p>
                            <p style="display:inline-block"> y</p>
                            <p style="display:inline-block"><b th:text="${localSelected2.direccion}"></b></p>
                            <p style="display:inline-block"> es de </p>
                            <p style="display:inline-block"><b th:text="${distance}"></b>Km.</p>
                            <p th:if="${localSelected1 == localSelected2}">(Mismo local)</p>
                        </div>
                    </div>
                    <div class="card-footer">
                    </div>
                </div>
              </div> 
            </div>
        </div><!-- /.container -->
		
    </div>
    <!-- /#page-content-wrapper -->

    </div>
    <!-- /#wrapper -->

    <th:block th:include="fragments/bottom :: bottom"></th:block>

</body>

</html>